{
    "title": "Customers",
    "suggestions": [
      {
        "title": "Default Address",
        "columns": ["email", "address1", "address2", "city", "province", "country"]
      },
      {
        "title": "Last Orders",
        "columns": ["email", "last_order_name", "last_order_id", "order_count", "total_spent"]
      },
      {
        "title": "Order Counts",
        "columns": ["email", "total_order_count", "refunded_order_count", "cancelled_order_count", "unfulfilled_order_count"]
      }
    ],
    "filters": [
      {
        "title": "Name",
        "name": "name",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "title": "Email",
        "name": "email",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "title": "First Name",
        "name": "first_name",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "title": "Last Name",
        "name": "last_name",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "title": "Last Seen",
        "name": "last_seen",
        "type": "timestamptz",
        "dataType": "timestamptz"
      },
      {
        "title": "Address 1",
        "name": "address1",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "title": "Address 2",
        "name": "address2",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "title": "City",
        "name": "city",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "title": "Country",
        "name": "country",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "title": "Province",
        "name": "address1",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "title": "Zip",
        "name": "zip",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "Product Purchased",
        "name": "product_purchased",
        "type": "array",
        "dataType": "numeric[]"
      },
      {
        "title": "Product Viewed",
        "name": "product_viewed",
        "type": "array",
        "dataType": "numeric[]"
      },
      {
        "title": "Orders Count",
        "name": "total_order_count",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "Total Amount Spent",
        "name": "total_amount_spent",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "Average Order Price",
        "name": "total_spent",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "Refunded Order Count",
        "name": "refunded_order_count",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "Cancelled Order Count",
        "name": "cancelled_order_count",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "Unfulfilled Order Count",
        "name": "unfulfilled_order_count",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "Unrefunded Order Count",
        "name": "unrefunded_order_count",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "Uncancelled Order Count",
        "name": "uncancelled_order_count",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "Abandoned Cart",
        "name": "abandoned_cart",
        "type": "boolean",
        "dataType": "boolean"
      },
      {
        "title": "Unfulfilled Order Count",
        "name": "unfulfilled_order_count",
        "type": "number",
        "dataType": "numeric"
      },
      {
        "title": "First Order At",
        "name": "first_order_at",
        "type": "timestamptz",
        "dataType": "timestamptz"
      },
      {
        "title": "Last Order At",
        "name": "last_order_at",
        "type": "timestamptz",
        "dataType": "timestamptz"
      },
      {
        "entity": "discountapplication",
        "title": "Applied Discounts",
        "name": "code",
        "type": "text",
        "dataType": "varchar"
      },
      {
        "entity": "event",
        "type": "dropdown",
        "name": "event_name",
        "dataType": "varchar",
        "title": "Page Viewed",
        "options": [
          "home_screen",
          "collection_view",
          "product_view",
          "event"
        ]
      }
    ],
    "columns": [
      {
        "label": "Email",
        "field": "email"
      },
      {
        "label": "First Name",
        "field": "first_name"
      },
      {
        "label": "Last Name",
        "field": "last_name"
      },
      {
        "label": "Updated At",
        "field": "updated_at"
      },
      {
        "label": "Total Amount Spent",
        "field": "total_amount_spent"
      },
      {
        "label": "Orders Count",
        "field": "total_order_count"
      },
      {
        "label": "Address Line 1",
        "field": "address1"
      },
      {
        "label": "Address Line 2",
        "field": "address2"
      },
      {
        "label": "City",
        "field": "city"
      },
      {
        "label": "State",
        "field": "province"
      },
      {
        "label": "Country",
        "field": "country"
      },
      {
        "label": "Last Order Name",
        "field": "last_order_name"
      },
      {
        "label": "Last Order Id",
        "field": "last_order_id"
      },
      {
        "label": "Refunded Orders",
        "field": "refunded_order_count"
      },
      {
        "label": "Uncancelled Orders",
        "field": "uncancelled_order_count"
      },
      {
        "label": "Unfulfilled Orders",
        "field": "unfulfilled_order_count"
      }
    ],
    "selectedFilters": [],
    "table": "customeraggregate",
    "stats": [
      {
        "type": "statistics",
        "title": "Statistics",
        "col": {
          "default": 12,
          "md": 12
        },
        "data": {
          "table": "customeraggregate",
          "statsDefinition": [
            {
              "columnname": "*",
              "aggregate": "count",
              "alias": "total"
            },
            {
              "columnname": "total_amount_spent",
              "aggregate": "sum",
              "alias": "revenue"
            },
            {
              "columnname": "total_order_count",
              "aggregate": "sum",
              "alias": "order_count"
            },
            {
              "columnname": "refunded_order_count",
              "aggregate": "count",
              "alias": "customers_with_refunded_orders",
              "operator": ">",
              "value": 0
            },
            {
              "columnname": "cancelled_order_count",
              "aggregate": "count",
              "alias": "customers_with_cancelled_orders",
              "operator": ">",
              "value": 0
            },
            {
              "columnname": "unpaid_order_count",
              "aggregate": "count",
              "alias": "customers_with_unpaid_orders",
              "operator": ">",
              "value": 0
            }
          ]
        }
      },
      {
        "type": "ecommerce-company-table",
        "title": "Discounts",
        "col": {
          "default": 12,
          "md": 8
        },
        "fields": [
          { "key": "name", "label": "Name" },
          { "key": "total_discounts", "label": "Total Discounts" },
          { "key": "total_price", "label": "Total Price" },
          { "key": "financial_status", "label": "Financial Status" }
        ],
        "data": {
          "table": "order",
          "workspaceId": 333,
          "orderBykey": "id",
          "limit": "10",
          "skipRowby": "0"
        }
      },
      {
        "type": "ecommerce-transactions",
        "title": "Customers by Country",
        "col": {
          "default": 12,
          "md": 4
        },
        "data": {
          "table": "customeraggregate",
          "columnname": "country",
          "startdate": "2000-01-01 11:49:40.765997+05:30",
          "enddate": "2021-07-01 11:49:40.765997+05:30",
          "statsDefinition": {
            "aggregate": "count",
            "columnname": "country"
          }
        }
      },
      {
        "type": "ecommerce-transactions",
        "title": "Customers by Currency",
        "col": {
          "default": 12,
          "md": 4
        },
        "data": {
          "table": "customeraggregate",
          "columnname": "currency",
          "startdate": "2000-01-01 11:49:40.765997+05:30",
          "enddate": "2021-07-01 11:49:40.765997+05:30",
          "statsDefinition": {
            "aggregate": "count",
            "columnname": "currency"
          }
        }
      }
    ],
    "graphs": [
      {
        "type": "apex-donut-chart",
        "title": "By Country",
        "col": {
          "default": 12,
          "md": 4
        },
        "data": {
          "table": "customeraggregate",
          "startdate": "2000-01-01 11:49:40.765997+05:30",
          "enddate": "2021-07-13 11:49:40.765997+05:30",
          "columnname": "country",
          "statsDefinition": {
            "aggregate": "count",
            "columnname": "country"
          }
        }
      },
      {
        "type": "apex-line-chart",
        "title": "Revenue",
        "graphCatergory": "bar",
        "col": {
          "default": 12,
          "md": 8
        },
        "curve": "straight",
        "data": [{
          "table": "customeraggregate",
          "columnname": "total_amount_spent",
          "startdate": "2000-01-01 11:49:40.765997+05:30",
          "enddate": "2021-07-13 11:49:40.765997+05:30",
          "groupBykey": "dow",
          "statsDefinition": {
            "aggregate": "sum",
            "columnname": "total_amount_spent"
          }
        }]
      }
    ],
    "segments": [
      {
        "title": "Lead",
        "default": true,
        "filters": {
          "relation": "AND",
          "conditions": [
            {
              "columnName": "total_order_count",
              "dataType": "numeric",
              "filterType": "equal_to",
              "title": "Orders Count",
              "type": "number",
              "values": [0, ""]
            }
          ]
        }
      },
      {
        "title": "One Time Customer",
        "default": true,
        "filters": {
          "relation": "AND",
          "conditions": [
            {
              "columnName": "total_order_count",
              "dataType": "numeric",
              "filterType": "greater_than",
              "title": "Orders Count",
              "type": "number",
              "values": [0, ""]
            }
          ]
        }
      },
      {
        "title": "Repeat Customer",
        "default": true,
        "filters": {
          "relation": "AND",
          "conditions": [
            {
              "columnName": "total_order_count",
              "dataType": "numeric",
              "filterType": "greater_than",
              "title": "Orders Count",
              "type": "number",
              "values": [1, ""]
            }
          ]
        }
      },
      {
        "title": "Loyal Customer",
        "default": true,
        "filters": {
          "relation": "AND",
          "conditions": [
            {
              "columnName": "total_order_count",
              "dataType": "numeric",
              "filterType": "greater_than",
              "title": "Orders Count",
              "type": "number",
              "values": [2, ""]
            }
          ]
        }
      },
      {
        "title": "Risky Customer",
        "default": true,
        "filters": {
          "relation": "AND",
          "conditions": [
            {
              "columnName": "last_order_at",
              "dataType": "timestamptz",
              "filterType": "less_than",
              "title": "Last Order At",
              "type": "timestamptz",
              "values": [30, ""]
            }
          ]
        }
      }
    ]
  }